<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locativy - List Item Found</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/listpage.css">
    <link rel="stylesheet" href="assets/css/navbar.css">
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <img class="navbar-brand" src="assets/image/Logo Locativy.png" style="height: 50px;" href="#">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="form-report.html">Message</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                                Items
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Lost item</a></li>
                                <li><a class="dropdown-item" href="#">Found items</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">About Us</a>
                        </li>
                    </ul>
                    <div class="button">
                        <a class="login-button" type="submit">Lapor!</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Search Bar -->
    <div class="row" style="margin-top: 10rem;">
        <nav class="navbar-brand">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Search" onkeyup="filterItems()" id="searchbox">
            </div>
        </nav>
    </div>

    <!-- List Page -->
    <div class="container" style="margin-top: 5rem;">
        <div class="row" id="items-container">
            <!-- Items will be inserted here dynamically -->
        </div>
    </div>

    <!-- Pagination -->
    <nav aria-label="...">
        <ul class="pagination justify-content-center" style="margin-top: 5rem;">
            <li class="page-item" id="prev-page">
                <a class="page-link" href="#" onclick="changePage(currentPage - 1)">Previous</a>
            </li>
            <li class="page-item"><a class="page-link" href="#" onclick="changePage(1)">1</a></li>
            <li class="page-item"><a class="page-link" href="#" onclick="changePage(2)">2</a></li>
            <li class="page-item"><a class="page-link" href="#" onclick="changePage(3)">3</a></li>
            <li class="page-item" id="next-page">
                <a class="page-link" href="#" onclick="changePage(currentPage + 1)">Next</a>
            </li>
        </ul>
    </nav>

    <script>
        let currentPage = 1;
        let filteredItems = [];

        const itemsData = {
            1: [
                { title: "Acheron 1", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 1." },
                { title: "Acheron 2", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 2." },
                { title: "Acheron 3", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 3." },
                { title: "Acheron 4", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 4." },
                { title: "Acheron 5", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 5." },
                { title: "Acheron 6", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 6." },
                { title: "Acheron 7", img: "assets/image/Acheron (2).jpg", description: "Deskripsi Acheron 7." },
                { title: "Acheron 8", img: "assets/image/Acheron (2).jpg", description: "Deskripsi item 8." }
            ],
            2: [
                { title: "Herta 1", img: "assets/image/herta.jpg", description: "Deskripsi herta 1." },
                { title: "Herta 2", img: "assets/image/herta.jpg", description: "Deskripsi herta 2." },
                { title: "Herta 3", img: "assets/image/herta.jpg", description: "Deskripsi herta 3." },
                { title: "Herta 4", img: "assets/image/herta.jpg", description: "Deskripsi herta 4." },
                { title: "Herta 5", img: "assets/image/herta.jpg", description: "Deskripsi herta 5." },
                { title: "Herta 6", img: "assets/image/herta.jpg", description: "Deskripsi herta 6." },
                { title: "Herta 7", img: "assets/image/herta.jpg", description: "Deskripsi herta 7." },
                { title: "Herta 8", img: "assets/image/herta.jpg", description: "Deskripsi herta 8." }
            ],
            3: [
                { title: "Mita 1", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 1." },
                { title: "Mita 2", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 2." },
                { title: "Mita 3", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 3." },
                { title: "Mita 4", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 4." },
                { title: "Mita 5", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 5." },
                { title: "Mita 6", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 6." },
                { title: "Mita 7", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 7." },
                { title: "Mita 8", img: "assets/image/Mita.jpg", description: "Deskripsi Mita 8." }
            ]
        };

        function changePage(page) {
            if (!filteredItems || filteredItems.length === 0) return;
            if (page < 1 || page > Math.ceil(filteredItems.length / 8)) return;

            currentPage = page;
            renderItems(filteredItems);
        }

        function filterItems() {
            const searchValue = document.getElementById('searchbox').value.toLowerCase();
            const allItems = [];
            for (const page in itemsData) {
                allItems.push(...itemsData[page]);
            }

            filteredItems = allItems.filter(item =>
                item.title.toLowerCase().includes(searchValue) ||
                item.description.toLowerCase().includes(searchValue)
            );
            
            changePage(1); // Restart to first page when search is updated
        }

        function renderItems(items) {
            const container = document.getElementById("items-container");
            container.innerHTML = "";
            
            const start = (currentPage - 1) * 8;
            const end = start + 8;
            const pageItems = items.slice(start, end);
            
            let rowHTML = "";
            pageItems.forEach((item, index) => {
                if (index % 4 === 0) {
                    if (rowHTML) container.innerHTML += `<div class='row'>${rowHTML}</div>`;
                    rowHTML = "";
                }
                rowHTML += `
                    <div class="col-md-3">
                        <div class="card">
                            <img class="card-img-top" src="${item.img}" alt="Item">
                            <div class="card-body">
                                <h3 class="card-title">${item.title}</h3>
                                <p class="text-muted">${item.description}</p>
                            </div>
                        </div>
                    </div>
                `;
            });
            if (rowHTML) container.innerHTML += `<div class='row'>${rowHTML}</div>`;

            // Update pagination visibility
            document.getElementById('prev-page').style.visibility = currentPage === 1 ? 'disable' : 'visible';
            document.getElementById('next-page').style.visibility = currentPage === Math.ceil(items.length / 8) ? 'disable' : 'visible';
        }

        changePage(1); // Initial page load
    </script>

    <!-- Footer -->
    <div class="cta-container">
        <h4>Ready to get started?</h4>
    </div>

    <footer class="footer">
        <div class="footer-content" style="margin-top: 50px;">
            <div class="footer-column">
                <h3>Get started</h3>
                <ul>
                    <li><a href="#">Sign up</a></li>
                    <li><a href="#">Sign in</a></li>
                    <li><a href="#">Create account</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Get help</h3>
                <ul>
                    <li><a href="#">Reporting</a></li>
                    <li><a href="#">Lost item</a></li>
                    <li><a href="#">Found item</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>About us</h3>
                <ul>
                    <li><a href="#our-team">Our Team</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Partnership</h3>
                <ul>
                    <li><a href="#">School organization</a></li>
                    <li><a href="#">Student affairs section</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="social-icons">
                <a href="https://www.instagram.com/locativy?igsh=bnk4ZHd1aXB1a2E4"><i class="fa-brands fa-square-instagram" style="color: #355aa9;"></i></a>
                <i class="fa-brands fa-x-twitter" style="color: #355aa9;"></i>
                <i class="fa-solid fa-envelope" style="color: #355aa9;"></i>
            </div>
            <div class="footer-logo">
                <img src="assets/image/Logo Locativy - Blue.png" alt="Locativy">
            </div>
        </div>
    </footer>
</body>
</html>
